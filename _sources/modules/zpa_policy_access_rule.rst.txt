.. _zpa_policy_access_rule_module:


zpa_policy_access_rule -- Create a Policy Access Rule
=====================================================

.. contents::
   :local:
   :depth: 1


Synopsis
--------

This module create/update/delete a Policy Access Rule in the ZPA Cloud.







Parameters
----------

  client_id (type: str)
    


  client_secret (type: str)
    


  customer_id (type: str)
    


  action (type: str)
    This is for providing the rule action.


  action_id (type: str)
    This field defines the description of the server.


  priority (type: str)
    


  id (type: str)
    


  default_rule_name (type: str)
    


  description (type: str)
    


  policy_type (type: str)
    


  rule_order (type: str)
    


  default_rule (type: bool)
    This is for providing a customer message for the user.


  operator (type: str)
    This denotes the operation type.


  app_connector_groups (type: list)
    List of the app connector group IDs.


    name (type: str)
      


    id (required, type: str)
      



  app_server_groups (type: list)
    List of the server group IDs.


    name (type: str)
      


    id (required, type: str)
      



  custom_msg (type: str)
    This is for providing a customer message for the user.


  lss_default_rule (type: bool)
    


  name (required, type: str)
    This is the name of the policy.


  conditions (type: list)
    


    id (type: str)
      


    negated (type: bool)
      


    operator (required, type: str)
      


    operands (type: list)
      


      id (type: str)
        


      idp_id (type: str)
        


      name (type: str)
        


      lhs (required, type: str)
        


      rhs (type: str)
        


      rhs_list (type: list)
        


      object_type (required, type: str)
        




  state (type: str, default: present)
    Whether the app should be present or absent.









Examples
--------

.. code-block:: yaml+jinja

    
    - name: Access Policy - Intranet Web Apps
      willguibr.zpacloud.zpa_policy_access_rule:
        name: "Intranet Web Apps"
        description: "Intranet Web Apps"
        action: "ALLOW"
        rule_order: 1
        operator: "AND"
        conditions:
          - negated: false
            operator: "OR"
            operands:
              - name: "app_seg_intranet"
                object_type: "APP"
                lhs: "id"
                rhs: "{{ app_seg_intranet.data.id }}"
          - negated: false
            operator: "OR"
            operands:
              - name: "sg_seg_intranet"
                object_type: "APP_GROUP"
                lhs: "id"
                rhs: "{{ seg_intranet.data.id }}"
          - negated: false
            operator: "OR"
            operands:
              - name: "engineering_group"
                object_type: "SCIM_GROUP"
                lhs: "{{ user_okta.data[0].id }}"
                rhs: "{{ engineering_group.data[0].id }}"





Status
------





Authors
~~~~~~~

- William Guilherme (@willguibr)

